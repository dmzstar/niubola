<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/admin.xhtml">


    <ui:define name="logo-mini">
        Admin Users
    </ui:define>

    <ui:define name="top-menu">

    </ui:define>

      <ui:define name="title">
        <h2 class="align-center">
            Welcome to the Niubola Users List
        </h2>
    </ui:define>

    <ui:define name="description">
        A page description
    </ui:define>

    <ui:define name="body">

        <h:form>
            <p:growl id="growl"/>
        <p:dataTable var="car" value="#{testPage.model.data}" lazy="true"
                     paginator="true" rows="30" widgetVar="usersTable"
                     filteredValue="" id="dataTable">

            <f:facet name="header">
                <p:outputPanel>
                    <h:outputText value="Search all fields:" />
                    <p:inputText id="globalFilter" style="width:150px" placeholder="Enter keyword"/>
                </p:outputPanel>
            </f:facet>

            <p:column headerText="Id" filterBy="#{car.id}" footerText="contains" filterMatchMode="contains">
                <h:outputText value="#{car.id}" />
            </p:column>

            <p:column headerText="Year">
                <h:outputText value="#{car.username}" />
            </p:column>

            <p:column headerText="Year">
                <p:commandButton value="删除" action="#{admin_users.remove(car.id)}" update="dataTable">

                    <p:confirm/>

                </p:commandButton>
                <p:button value="编辑" outcome="edit">
                    <f:param name="id" value="#{car.id}" />
                </p:button>
            </p:column>

        </p:dataTable>

            <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
                <p:commandButton title="GDelYesButton" value="Yes" styleClass="ui-confirmdialog-yes"/>
                <p:commandButton title="GDelNoButton" value="No" styleClass="ui-confirmdialog-no" />
            </p:confirmDialog>

        </h:form>

    </ui:define>

    <ui:define name="footer">
          <a target="_blank"
           href="https://github.com/adminfaces/">
            Copyright (C) 2017 - AdminFaces
        </a>

        <div class="pull-right hidden-xs" style="color: gray">
            <i>1.0.0</i>
        </div>
    </ui:define>

</ui:composition>